{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\nconst listPalette = document.querySelector('.js-list-palette');\nlet palettes = [];\nlet favorites = [];\n\nconst inputFilter = document.querySelector('.js-input');\n\nconst handleFilter = (ev) =>{\n    const inputValue =inputFilter.value.toLowerCase();\n\n    const paletteFilter = palettes.filter((palette)=>palette.name.toLowerCase().includes(inputValue));\n    renderPalettes(paletteFilter);\n\n}\n\ninputFilter.addEventListener('keyup', handleFilter);\n\nfunction handleClick(event){\n    const idSelected = event.currentTarget.id;\n    const paletteFound = palettes.find((palette)=>palette.id === idSelected);\n    const favoritesFound = favorites.findIndex((fav)=> fav.id === idSelected);\n\n    if(favoritesFound === -1) {\n        favorites.push(paletteFound);\n    } else {\n        favorites.splice(favoritesFound, 1);\n    }\n    \n    renderPalettes(palettes);\n    \n\n}\n\nfunction listenerPalettes(){\n    const liPalettes = document.querySelectorAll('.js-palette');\n    for (const li of liPalettes) {\n        li.addEventListener('click', handleClick);\n    }\n}\n\nfunction renderPalettes(arrayPalettes){\n    let html = '';\n    let classFavorite = '';\n\n    for (const onePalette of arrayPalettes) {\n            const favoriteFoundIndex = favorites.findIndex((fav)=>onePalette.id === fav.id);\n            if (favoriteFoundIndex !== -1){\n                classFavorite = 'palette--favorite';\n            } else {\n                classFavorite = '';\n            }\n\n            html += `<li class=\"palettes js-palette ${classFavorite}\" id=\"${onePalette.id}\">`;\n            html += `<h2>${onePalette.name}</h2>`;\n            html += `<div class=\"palette__colors\">`;\n            for (const paletteColor of onePalette.colors) {\n                html += `<div class=\"palette__color\" style=\"background-color:#${paletteColor}\"></div>`;\n            }        \n            html += `</div></li>`;\n        }\n    listPalette.innerHTML = html;\n    listenerPalettes();\n};\n\n\nfunction getDataApi(){\n\n    fetch('https://beta.adalab.es/ejercicios-de-los-materiales/js-ejercicio-de-paletas/data/palettes.json')\n        .then((response) => response.json())\n        .then((data) => {\n            palettes = data.palettes;\n            localStorage.setItem('data', JSON.stringify(palettes));\n            renderPalettes(palettes);\n        });\n};\n\nfunction onLoad() {\n    const dataLocalStorage = JSON.parse(localStorage.getItem('data'));\n\n    if (dataLocalStorage){\n        palettes = dataLocalStorage;\n        renderPalettes(palettes);\n\n    } else{\n        getDataApi();\n        \n    }\n};\n\nonLoad();\n\n\n"]}